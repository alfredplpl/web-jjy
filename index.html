<!DOCTYPE html>
<html>
  <head>
    <title>Web JJY</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
      canvas {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <h1>Web版標準電波基地局シミュレータ(40kHz)</h1>
    <p>
      Webブラウザとイヤホンジャックから電波時計用の標準電波を流せる信号を流し、ごく小規模ごく低出力の基地局をシミュレーションします。
      基地局と書くと大層なものに見えますが、無線LANのアクセスポイントも基地局にあたるのでわりと身近なものになります。
    </p>

    <h2>使い方</h2>
    <p>
      スマホやタブレットのイヤホンジャックに廉価なアンテナを接続し、電波時計の近くに置きます。
      音量を最大にし、「Start」ボタンを押すと信号が送信されます。
      電波時計を強制受信モードにし、時刻が設定されるのを十数分待ちましょう。
      スマホやタブレットの画面をオフにしないように気をつけましょう。
    </p>

    <button id="control-button">Start</button> <span id="time"></span>
    <div>
      <canvas id="canvas" width="1000" height="200"></canvas>
    </div>
    <label><input id="summer-time" type="checkbox">夏時間を有効にする</label>
    <script src="jjy.js"></script>

    <h2>このソフトについて</h2>
    <p>
      電波時計の時刻合わせには、<a href="http://jjy.nict.go.jp/jjy/">標準電波JJY</a>と呼ばれる
      時刻に関する情報を送信している電波が使われています。
      このシミュレータは、この電波をブラウザ上で再現し、標準電波が届かない環境でも電波時計の時刻合わせを可能にします。
      このページではパソコン自体の時刻を調整する機能はないので、
      事前にパソコン自体の時刻設定を行っておくとよいでしょう。
    </p>

    <h2>ライセンス</h2>
    <p>MITライセンスで提供します。<a href="https://github.com/alfredplpl/web-jjy/blob/master/LICENSE.md">LICENSE.md<a>を参照してください。</p>    

    <h2>免責事項</h2>
    <p>
      MITライセンスの通り、利用の結果生じた損害について、一切責任を負いません。
    </p>

    <h2>動作検証</h2>
    <p>
      （iPad Pro + 1000円のイヤホンジャックアダプタ + 1000円のAM用アンテナで挑戦中）
      （iPhone Xでも挑戦中）
      TBA
    </p>

    <h2>原理</h2>
    <p>
      標準電波は40kHzまたは60kHzの電波です。
      電気が流れればそこには必ず電波が発生するので、イヤホンジャックから音声代わりにこの周波数の信号を流せば、それだけでちっこい基地局になります。
      昔は20kHzまでしか音声信号を出力できず、高調波という高度なテクニックを使って、40kHzを擬似的に出力していました。
      ただ、最近のスマホやタブレットの出力は192kHzまでに対応していることから、そのテクニックは不要となりました。
      対応している例: <a href="https://www.amazon.co.jp/%E3%83%9A%E3%83%B3%E3%82%B4-USB-C-3-5mm%E3%82%AA%E3%83%BC%E3%83%87%E3%82%A3%E3%82%AA%E5%A4%89%E6%8F%9B%E3%82%A2%E3%83%80%E3%83%97%E3%82%BF%E3%82%B1%E3%83%BC%E3%83%96%E3%83%AB-Hi-Res-192kHz-%E6%97%A5%E6%9C%AC%E6%AD%A3%E8%A6%8F%E4%BB%A3%E7%90%86%E5%BA%97%E5%93%81/dp/B07BGXS2M2">例1</a>。
      そこで、そのまま40kHzの信号を出すように変更しました。
    </p>

    <h2>主な修正点</h2>
    <p>
      shogo82148さんのコードを殆ど使っていますが、
      周波数だけ私が書きました。
    </p>

    <h2>法律上の問題に関して</h2>
    <p>
      このアプリに関する法律として電波法があります。
      そうと入っても、ごく低出力であれば総務省に普通怒られることはありません。
      ただ、気にはなるのでTBAということで。
    </p>

    <h2>関連リンク</h2>
    <p>
      <ul>
        <li><a href="https://github.com/shogo82148/web-jjy">shogo82148/web-jjy</a></li>
        <li><a href="https://shogo82148.github.io/blog/2016/03/29/web-jjy/">Webブラウザを使って電波を出してみた</a></li>
        <li><a href="https://shogo82148.github.io/blog/2018/08/11/web-jjy-summer-time-support/">Web JJY が夏時間に対応しました</a></li>
      </ul>
    </p>

  </body>
</html>
